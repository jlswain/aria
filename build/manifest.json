{
    "common.javascript" : {
        "enviro" : "./support/pkman install -p npm phantomjs-prebuilt"
    },
    "common.python" : {
        "enviro" : "./support/pkman install python3"
    },
    "common.bash" : {
        "deps" : "./support/pkman install --try shellcheck"
    },
    "build" : {
        "deps" : [
            "npm install"
        ],
        "test" : [
            "npm test",
            "shellcheck run support/pkman"
        ]
    },
    "ctrl-serve" : {
        "deps"      : ["cd ../ctrl-serve", "./setup.py develop"],
        "build"     : ["cd ../ctrl-serve", "./setup.py bdist_egg"],
        "test"      : ["cd ../ctrl-serve","./setup.py test"],
        "clean"     : ["cd ../ctrl-serve", "./setup.py clean"]
    },
    "remote" : {
        "enviro"    : "./support/pkman install node",
        "deps"      : ["cd ../remote", "npm install"],
        "build"     : ["cd ../remote", "npm run build"],
        "test"      : ["cd ../remote", "npm test"],
        "clean"     : ["cd ../remote", "rm -rf node_modules bin"]
    },
    "gateway" : {
        "enviro"    : "./support/pkman install node",
        "deps"      : ["cd ../gateway", "npm install"],
        "build"     : ["cd ../gateway", "npm run build"],
        "test"      : ["cd ../gateway", "npm test"],
        "clean"     : ["cd ../gateway", "rm -rf node_modules bin"]
    },
    "uml" : {
        "enviro" : [
            "./support/pkman install --try -p brew pkg-config cairo libpng jpeg giflib",
            "./support/pkman install --try -p apt-get libcairo2-dev libjpeg8-dev libpango1.0-dev libgif-dev build-essential g++",
            "./support/pkman install --try -p yum cairo cairo-devel cairomm-devel libjpeg-turbo-devel pango pango-devel pangomm pangomm-devel giflib-devel"
        ],
        "deps" : [
            "./support/pkman install --try -p npm mdgen"
        ],
        "build" : [
            "mkdir -p mdtmp__",
            "cd mdtmp__ && MDJ=$(find ../../ -name '*.mdj') && for file in $MDJ; do mdgen image -m $file; mv *.png $(dirname $file); done && cd ..",
            "rm -rf mdtmp__"
        ]
    },
    "reports" : {
        "enviro" : [
            "./support/pkman install pandoc"
        ]
    },
    "reports.proposal" : {
        "build" : [
            "cd ../reports/proposal",
            "pandoc --to docx --from markdown -o proposal.docx proposal.md"
        ]
    }
}
